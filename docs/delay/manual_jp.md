# Delay - ステレオ・ディレイ・モジュール

Repitch、Fade、Reverse、Ping-pongの4つのディレイ・モードを備えたプロフェッショナルなステレオ・ディレイ・エンジンです。高品質なオーディオ処理を実現するHermite補間を採用し、Ableton Liveにインスパイアされたデザインです。

## 概要

Delayは、4つの異なるディレイ・モードと高品質なオーディオ処理を提供するプロフェッショナル・グレードのステレオ・ディレイ・エフェクト・モジュールです。調整可能なディレイ・タイム（0.010秒〜5.000秒）、フィードバック、トーン・フィルター、モジュレーション・デプス、ドライ/ウェット・ミキシングを備えています。また、右クリックでアクセス可能なトランジション・モードを提供しており、繊細なアンビエンスからドラマチックなサウンド・デザインまで、様々な音楽的用途に適しています。

## クイック・スタート

1. オーディオ・ソースをAUDIO L/R INPUTに接続
2. 出力をAUDIO L/R OUTPUTに接続
3. MODEボタンでディレイ・モードを選択（4つのモードが利用可能）
4. TIMEノブでディレイ・タイムを調整（0.010秒〜5.000秒）
5. FEEDBACKノブで繰り返しを制御
6. WETノブで原音とディレイ音のバランスを調整

## パラメータ

### メイン・コントロール

**TIME** (0.0〜1.0、デフォルト 0.5)
- ディレイ・タイムの制御（秒単位で表示：0.001秒〜5.000秒）
- 音楽的なレスポンスのための指数カーブ
  - 12時位置（50%）= 2.5秒
  - 範囲：1ミリ秒〜5秒
- CV入力対応

**FEEDBACK** (0.0〜0.95、デフォルト 0.5)
- ディレイの繰り返し量
- 高い値ほど多くのエコーを作成
- CV入力対応
- 無限のフィードバック・ループを防ぐため最大95%

**WET** (0.0〜1.0、デフォルト 0.5)
- ドライ/ウェット・ミックス比
- 0.0: 100% ドライ（原音）
- 1.0: 100% ウェット（ディレイ音のみ）
- 等パワー・クロスフェード使用
- CV入力対応

**TONE** (0.0〜1.0、デフォルト 0.5)
- ディレイのフィードバック・パス用トーン・フィルター
- 低い値：ローパス・フィルター（温かいサウンド）
- 高い値：ハイパス・フィルター（明るいサウンド）
- CV入力対応

**MOD** (0.0〜1.0、デフォルト 0.0)
- モジュレーション・デプス（WOWエフェクト）
- ディレイに微細なピッチ・モジュレーションを追加
- CV入力対応
- テープのようなワウ＆フラッター・エフェクトを作成

### モード選択

**MODE BUTTON**
- 4つのディレイ・モードをサイクル：
  1. **Repitch**: ディレイ・タイム変更時にピッチが変わる（ハードウェアライク）
  2. **Fade**: 新旧ディレイ・タイム間のクロスフェード（Ableton Liveスタイル）
  3. **Reverse**: ディレイ・バッファの逆再生
  4. **Ping-pong**: ディレイが左右のチャンネル間で跳ね返る

モード・ライトが現在のモードを表示：
- **Repitch Light**: Repitchモード有効
- **Fade Light**: Fadeモード有効
- **Reverse Light**: Reverseモード有効
- **Ping-pong Light**: Ping-pongモード有効

## トランジション・モード（右クリック・コンテキスト・メニュー）

モジュールを右クリックしてトランジション・モード・オプションにアクセスします。これらはTIMEノブやCVでディレイ・タイムが変更されたときの挙動を制御します。

### Repitchトランジション
- ディレイ・タイムの変更がピッチ・シフトを引き起こす
- ハードウェアライクな挙動
- ドラマチックなテープ・ストップ・エフェクトを作成
- ヴィンテージ・テープ・ディレイに似ている

### Fadeトランジション（デフォルト）
- 新旧ディレイ・タイム間のスムーズなクロスフェード
- ピッチの変化なし - マルチボイス方式を使用
- 各ボイスが固定のディレイタイムで読み取り、クロスフェードで遷移
- 600msのクロスフェード時間でアーティファクトのない遷移
- クリーンでプロフェッショナルなサウンド
- Ableton Live Fade Delayにインスパイアされた

### Jumpトランジション
- 新しいディレイ・タイムに即座にジャンプ
- グリッチー/アーティファクト・エフェクトを作成できる
- 実験的なサウンドに役立つ
- 遷移時にクリック音が発生する可能性がある

## 信号処理フロー

1. 入力信号（L/R）がディレイ・バッファに入力
2. ディレイ・タイムがバッファからの読み取り位置を制御
3. トランジション・モードが時間の変更がどのように処理されるかを決定
4. トーン・フィルターがフィードバック・パスに適用
5. モジュレーションが微細なピッチ変調を追加（MOD > 0の場合）
6. フィードバックがディレイ信号を入力に戻す
7. 出力ミキシングのためのドライ/ウェット・クロスフェード
8. ディレイ・コンテンツを含む出力信号（L/R）

## ディレイ・モード

### Repitchモード
- ディレイ・タイムの変更がピッチに影響
- ヴィンテージ・テープ・ディレイに似たハードウェアライクな挙動
- TIMEノブがモジュレートされたときにピッチ・ベンド・エフェクトを作成
- 一定のディレイ・タイムではクリーンで透明なサウンド

### Fadeモード
- スムーズなトランジションを備えた標準的なステレオ・ディレイ
- Ableton Liveにインスパイアされた挙動
- 新旧ディレイ・タイム間のクロスフェード
- 時間が調整されてもピッチは変化しない
- 伝統的なディレイ・エフェクトに適している

### Reverseモード
- ディレイ・バッファの逆再生
- ユニークなバックワード・エコー・エフェクトを作成
- アンビエントや実験的なサウンドに最適
- サイケデリックなテクスチャを作成できる
- **改善点（v2.0.5）**:
  - 短いディレイ・タイム（<0.1秒）でのクリックノイズを低減
  - 連続モードによる安定した逆再生品質
  - 16kHzアンチエイリアシング・フィルタで高周波アーティファクトを除去

### Ping-Pongモード
- ディレイが左右のチャンネル間で交互に発生
- リズミカルなバウンス・エコー・パターンを作成
- ステレオ・セパレーションに最適
- 広いステレオ・イメージ

## CV入力

すべてのCV入力は±10V信号を受け付けます：
- **TIME CV**: ディレイ・タイムをモジュレート
- **TONE CV**: トーン・フィルターをモジュレート
- **FEEDBACK CV**: フィードバック量をモジュレート
- **WET CV**: ドライ/ウェット・ミックスをモジュレート

## 使用例

### 基本的なディレイ・エフェクト
1. MODEをFadeに設定
2. TIMEを希望のディレイに調整（中程度のエコーで約0.500秒）
3. 繰り返しのためにFEEDBACKを0.3-0.5に設定
4. ディレイ信号をブレンドするためにWETを調整

### ハードウェアライクなRepitch
1. MODEをRepitchに設定
2. コンテキスト・メニューから「Repitch」トランジション・モードを選択
3. TIMEを希望のディレイに調整
4. ピッチ・ベンド・エフェクトのためにTIME CVを使用してディレイ・タイムをモジュレート
5. FEEDBACKを0.4-0.6に設定
6. WETを0.5-0.7に設定

### Ping-Pongエコー
1. MODEをPing-pongに設定
2. リズミカルなエコーのためにTIMEを調整（約0.500秒）
3. FEEDBACKを0.4-0.6に設定
4. プロミネントなステレオ・エフェクトのためにWETを0.5-0.7に設定

### アンビエント・ウォッシュ
1. MODEをFadeに設定
2. 長めのTIMEを使用（1.000秒〜5.000秒）
3. 高いFEEDBACK（0.7-0.8）
4. 微細なアンビエンスのために低めのWET（0.2-0.4）
5. 温かみのために少しのMOD（0.1-0.2）を追加

### リバース・リバーブ
1. MODEをReverseに設定
2. 中程度のTIME（0.250秒〜0.750秒）
3. 中程度のFEEDBACK（0.3-0.5）
4. 大気的なエフェクトのために低めのWET（0.1-0.3）

### グリッチーなJump
1. MODEをFadeに設定
2. コンテキスト・メニューから「Jump」トランジション・モードを選択
3. 急速な時間変更のためにTIME CVを使用
4. 中程度のFEEDBACK（0.4-0.6）
5. グリッチーでアーティファクト満載のサウンドを作成

## ヒントとコツ

- **自己発振**: FEEDBACKを0.8-0.9に設定し、TIMEでリズミカルなパターンを作成
- **ダッキング**: 入力が大きいときにウェット・レベルを下げるために外部VCAを使用
- **リズミカルなディレイ**: 外部CVを使用してテンポに合わせてTIMEを設定
- **ステレオ・ワイド**: Ping-pongモードで広いステレオ・イメージを作成
- **モジュレーション**: 小さなMOD量（0.05-0.15）でテープのような温かみを追加
- **Repitchエフェクト**: RepitchモードでTIME CVを使用してドラマチックなピッチ・ベンド・エフェクトを作成
- **スムーズなトランジション**: Fadeトランジション・モードはクリーンでプロフェッショナルな結果に最適
- **ハードウェア・キャラクター**: Repitchトランジション・モードはヴィンテージ・テープ・ディレイのキャラクターを作成
- **Jumpグリッチ**: Jumpトランジション・モードは興味深いアーティファクトとグリッチを作成できる

## タイム表示

TIMEノブは秒単位でディレイ・タイムを表示します（0.010秒〜5.000秒）。これにより以下が容易になります：
- 正確なディレイ・タイムを設定
- 音符分割を計算（例：0.500秒 = 120 BPMでの1/8音符）
- 他のモジュールと同期

## 技術仕様

- **ディレイ・モード**: Repitch、Fade、Reverse、Ping-pong
- **トランジション・モード**: Repitch、Fade、Jump（コンテキスト・メニュー経由）
- **補間**: 3次ラグランジュ
- **アンチエイリアシング**: 16kHzローパス・フィルタ（全モード適用）
- **最大フィードバック**: 95%（無限ループを防止）
- **CV入力範囲**: ±10V
- **ディレイ・タイム範囲**: 0.010秒〜5.000秒
- **サンプリング・レート**: 最大96kHz（システム依存）
- **デフォルト・トランジション**: Fade

## 注意事項

- モジュールはフィードバック・パスのDCオフセットを自動的に処理します
- モード切り替えはスムーズなトランジションを使用します
- 右クリック・コンテキスト・メニューでトランジション・モードを選択できます
- 高いサンプリング・レートでの長いディレイ・タイムはより多くのメモリを使用する場合があります
- タイム表示は実際のディレイ・タイムを秒単位で表示します
- Sync/Clock/Tap機能は廃止されました
- **v2.0.5 更新**: 全モードにアンチエイリアシング・フィルタを追加し、補間アーティファクトを低減
- **v2.0.5 更新**: Reverseモードのクリックノイズを低減し、安定性を向上
